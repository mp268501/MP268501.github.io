<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mark Pettyjohn</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="header">Loading header...</div>
    <main role="main" class="mx-auto">

        <h1 class="gradient-text float-animation inline-block">
            Mark<br />Pettyjohn
        </h1>
        <img src="https://via.placeholder.com/800x400/000000/FFFFFF?text=Placeholder+Image" alt="Underneath the image" class="mx-auto block my-8">


        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.  Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </p>

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
        </p>


        <h2>Current Team</h2>
        <p class="team-members">
            <span bio-name="Alice Wonderland" data-bio="Expert in rabbit holes and tea parties.">Alice Wonderland</span>,
            <span bio-name="Bob The Builder" data-bio="Can he fix it? Yes he can!">Bob The Builder</span>,
            <span bio-name="Charlie Chaplin" data-bio="Master of silent comedy and social commentary.">Charlie Chaplin</span>,
            <span bio-name="Dorothy Gale" data-bio="Follows the yellow brick road to adventure.">Dorothy Gale</span>,
            <span bio-name="Edward Scissorhands" data-bio="A gentle soul with a unique perspective.">Edward Scissorhands</span>
        </p>

        <!-- Hover Title Display -->
        <div id="hover-title" class="mx-auto mt-4 p-4 bg-white border border-gray-200 rounded transition">
        </div>
    </main>

    <div id="footer">Loading footer...</div>

    <script>
      // Function to load content (as provided previously and now included below)
      function loadContent(url, elementId) {
          fetch(url)
            .then(response => {
              if (!response.ok) {
                throw new Error(`Network response was not ok: ${response.status}`);
              }
              return response.text();
            })
            .then(data => {
              document.getElementById(elementId).innerHTML = data;
            })
            .catch(error => {
              console.error('Error loading content:', error);
              document.getElementById(elementId).innerHTML = `<p>Error loading ${elementId}.</p>`;
            });
        }

        loadContent('header.html', 'header');
        loadContent('footer.html', 'footer');

        document.addEventListener("DOMContentLoaded", function () {
            const hoverTitle = document.getElementById("hover-title");
            if (!hoverTitle) {
                console.error("No element with id 'hover-title' found.");
                return;
            }

            const teamMembers = document.querySelectorAll(".team-members span");
            if (teamMembers.length === 0) {
                console.error("No team member spans found under '.team-members'.");
                return;
            }

            // Choose a random team member for the default bio on load.
            const randomIndex = Math.floor(Math.random() * teamMembers.length);
            const defaultMember = teamMembers[randomIndex];

            defaultMember.classList.add("selected");
            hoverTitle.innerHTML = `<b class="font-semibold mb-0.7">${defaultMember.getAttribute("bio-name").trim()}</b><p>${defaultMember.dataset.bio}</p>`;

            function isMobileDevice() {
                return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            }
            function updateBio(member) {
                teamMembers.forEach(m => m.classList.remove("selected"));
                member.classList.add("selected");
                hoverTitle.innerHTML = `<b class="font-semibold mb-0.7">${member.getAttribute("bio-name").trim()}</b><p class="mb-0">${member.dataset.bio}</p>`;
            }

            function updateMobileBio(member) {
                teamMembers.forEach(m => m.classList.remove("selected"));
                member.classList.add("selected");
                hoverTitle.innerHTML = `<a href="#"><b class="font-semibold mb-0.7">${member.getAttribute("bio-name").trim()}</b></a><p class="mb-0">${member.dataset.bio}</p>`;
            }

            // Add hover event listeners for each team member.
            teamMembers.forEach(member => {

                // Desktop hover event
                member.addEventListener("mouseenter", () => {
                    updateBio(member);
                });

                if (isMobileDevice()) {
                    // Mobile click event to toggle bio
                    member.addEventListener("click", function (event) {
                        event.preventDefault();
                        updateMobileBio(member);
                    });
                }

            });
        });
    </script>
</body>
</html>